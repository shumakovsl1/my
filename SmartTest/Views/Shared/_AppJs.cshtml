@using SmartCom.BL.Models;

@{
    if (User.Identity.IsAuthenticated)
    {
        var x = (IUserInfo)ViewBag.UserInfo;
        if (x != null)
        {
            <script>
                var roles = JSON.parse('@Html.Raw(Json.Encode(x.Roles))');
                Ext.define('SmartCom.UserInfo',
                    {
                        userName: '@x.Name',
                        roles: roles
                    });
                window.userInfo = Ext.create('SmartCom.UserInfo');
                window.shopingCart = Ext.create('SmartCom.model.ShopingCart');
            </script>
        }
    }

}
